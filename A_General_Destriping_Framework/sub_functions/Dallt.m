function result = Dallt(z)
    n1 = size(z, 1);
    n2 = size(z, 2);
    n3 = size(z, 3);
    result = cat(1, -z(1, :, :, 1), -z(2:n1-1, :, :, 1) + z(1:n1-2, :, :, 1), z(n1-1, :, :, 1)) + cat(2, -z(:, 1, :, 2), -z(:, 2:n2-1, :, 2) + z(:, 1:n2-2, :, 2), z(:, n2-1, :, 2)) + cat(3, -z(:, :, 1, 3), -z(:, :, 2:n3-1, 3) + z(:, :, 1:n3-2, 3), z(:, :, n3-1, 3));
end